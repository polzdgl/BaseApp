@page "/auth/register"
@using BaseApp.Data.User.Dtos

<PageTitle>Register</PageTitle>

<RadzenCard class="rz-my-12 rz-mx-auto rz-p-4 rz-p-md-12" style="max-width: 600px;">
    <h3 class="rz-mb-4">Register</h3>
    <RadzenStack Orientation="Orientation.Vertical" Gap="1.5rem">
        <RadzenText TextStyle="TextStyle.Subtitle1" Class="rz-mb-3">Enter your Information</RadzenText>
        @if (IsLoading)
        {
            <RadzenProgressBar Mode="ProgressBarMode.Indeterminate" Style="width: 100%;" />
        }
        else
        {
            <EditForm Model="@UserRegisterDto" OnValidSubmit="OnRegisterAsync">
                <DataAnnotationsValidator />
                <ValidationSummary />

                <!-- First Name -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">First Name</RadzenText>
                <RadzenTextBox @bind-Value="UserRegisterDto.FirstName" Style="width: 100%;" Placeholder="Enter first name" />
                <ValidationMessage For="@(() => UserRegisterDto.FirstName)" />

                <!-- Last Name -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">Last Name</RadzenText>
                <RadzenTextBox @bind-Value="UserRegisterDto.LastName" Style="width: 100%;" Placeholder="Enter last name" />
                <ValidationMessage For="@(() => UserRegisterDto.LastName)" />

                <!-- Email -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">Email</RadzenText>
                <RadzenTextBox @bind-Value="UserRegisterDto.Email" Style="width: 100%;" Placeholder="Enter email" />
                <ValidationMessage For="@(() => UserRegisterDto.Email)" />

                <!-- Phone Number -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">Phone Number</RadzenText>
                <RadzenTextBox @bind-Value="UserRegisterDto.PhoneNumber" Style="width: 100%;" Placeholder="Enter phone number" />
                <ValidationMessage For="@(() => UserRegisterDto.PhoneNumber)" />

                <!-- Date of Birth -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">Date of Birth</RadzenText>
                <RadzenDatePicker @bind-Value="@UserRegisterDto.DateOfBirth" DateFormat="MM/dd/yyyy" Name="DatePickerDateOnlyType" Style="width: 100%;" Placeholder="Select date of birth" />
                <ValidationMessage For="@(() => UserRegisterDto.DateOfBirth)" />

                <!-- Password -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">Password</RadzenText>
                <RadzenPassword @bind-Value="UserRegisterDto.Password" AutoComplete="false" Style="width: 100%;" Placeholder="Enter a strong password" />
                <ValidationMessage For="@(() => UserRegisterDto.Password)" />

                <!-- Confirm Password -->
                <RadzenText TextStyle="TextStyle.Body1" Class="rz-mb-1">Password</RadzenText>
                <RadzenPassword @bind-Value="UserRegisterDto.ConfirmPassword" AutoComplete="false" Style="width: 100%;" Placeholder="Confirm your password" />
                <ValidationMessage For="@(() => UserRegisterDto.ConfirmPassword)" />

                <!-- Action Buttons -->
                <RadzenStack Orientation="Orientation.Horizontal" Gap="1rem" JustifyContent="JustifyContent.End" Style="margin-top: 2rem;">
                    <RadzenButton ButtonStyle="ButtonStyle.Primary" Icon="save" Disabled="@IsSaving" Text="@(IsSaving ? "Saving..." : "Save")" Type="Submit" Style="min-width: 120px;" />
                    <RadzenButton ButtonStyle="ButtonStyle.Secondary" Icon="cancel" Text="Cancel" Click="@(() => NavigationManager.NavigateTo("/user/all"))" Style="min-width: 120px;" />
                </RadzenStack>
            </EditForm>
        }
    </RadzenStack>
</RadzenCard>